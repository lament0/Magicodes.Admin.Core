@using Abp.Collections.Extensions
@using Magicodes.Admin.Web.Areas.Admin.Views.Shared.Components.AdminSideBar
@model UserMenuItemViewModel
<li class="@(Model.MenuItemIndex == 0 && Model.RootLevel ? "start" : "") @(Model.MenuItem.IsMenuActive(Model.CurrentPageName) ? "active" : "")">
    @if (Model.MenuItem.Items.IsNullOrEmpty())
    {
        <a href="javascript:;" data-href="@Model.MenuItem.CalculateUrl(ApplicationPath)" data-id="menu-@Model.MenuItem.Name-@Model.MenuItemIndex">
            <i class="@Model.MenuItem.Icon"></i>
            <span class="title">@Model.MenuItem.DisplayName</span>
        </a>
    }
    else
    {
        <a href="javascript:;" class="auto" data-id="menu-@Model.MenuItem.Name-@Model.MenuItemIndex">
            <i class="@Model.MenuItem.Icon"></i>
            <span class="title">@Model.MenuItem.DisplayName</span>
            <span class="arrow"></span>
        </a>
        <ul class="sub-menu">
            @for (var i = 0; i < Model.MenuItem.Items.Count; i++)
            {
                var childMenuItem = Model.MenuItem.Items[i];
                @Html.Partial("Components/AdminSideBar/_UserMenuItem", new UserMenuItemViewModel
               {
                   MenuItem = childMenuItem,
                   MenuItemIndex = i,
                   CurrentPageName = Model.CurrentPageName,
                   RootLevel = false
               })
            }
        </ul>
    }
</li>
