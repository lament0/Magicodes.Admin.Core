(function(){Vue.component("mc-tab",{props:["tabs"],template:'<div class="tabs-container tabbable-custom" style="margin-bottom:0px"><ul class="nav nav-tabs"><li v-bind:class="item.active?\'active\':\'\'" v-for="(item, index) in tabs"><a data-toggle="tab" v-bind:href="\'#\'+item.id" v-bind:id="\'a-\'+item.id" ><i class="" v-bind:class="item.icon"><\/i><span>{{item.title}}<\/span><span v-if="item.allowClose"><i class="fa fa-times tabIcon" v-on:click="remove(tabs,item,index)"><\/i><\/span><\/a><\/li><\/ul><div class="tab-content" style="padding-bottom:0px;"><div class="tab-pane" v-bind:class="item.active?\'active\':\'\'" v-for="item in tabs" v-bind:id="item.id"><iframe v-bind:src="item.url" v-bind:id="\'i-\'+item.id" v-bind:name="\'i-\'+item.id" v-bind:style="{height:item.height+\'px\'}" class="iframetab h-30"><\/iframe><\/div><\/div><\/div>',methods:{remove:function(n,t,i){n.length>1&&(n[i].active&&(n[0].active=!0),n.splice(i,1))}}});$(function(){function i(){$.each(n,function(n,t){if(t.active){t.active=!1;return}})}var t=document.body.offsetHeight-180,n=[{title:"  仪表盘",url:"/Admin/Welcome",id:"仪表盘",height:t,icon:"icon-speedometer",active:!0,allowClose:!1}],r=new Vue({el:"#tab-container",data:{tabs:n},methods:{}});$("#siteMenu a[data-href]").click(function(){var r=$(this),l=r.text(),h="",o,f,s;typeof r.find("i").attr("class")=="string"&&(h=r.find("i").attr("class").replace("sub-menu-icon ",""));var e=r.data("href"),u=r.data("id"),c=!1;i();$.each(n,function(n,t){t.id==u&&(t.active=!0,$("#a-"+u).tab("show"),c=!0,$("#i-"+u).attr("src")!=e&&$("#i-"+u).attr("src",e))});c||Vue.set(n,n.length,{title:l,url:e,id:u,height:t,icon:h,active:!0,allowClose:!0});o=r.closest("li");$("#siteMenu li.active").removeClass("active");f=o.closest("li");f&&(f.addClass("active"),s=f.closest("li"),s&&s.addClass("active"));o.addClass("active")})})})();